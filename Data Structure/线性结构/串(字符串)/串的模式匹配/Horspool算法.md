# Horspool算法

Horspool算法，又称为简化版的Boyer-Moore算法，是一种在字符串中查找子串的高效算法，由Nigel Horspool在1980年提出。它主要基于两个核心思想：“坏字符规则”（Bad Character Rule）和“好后缀规则”（Good Suffix Rule），但Horspool算法只采用了坏字符规则来优化搜索过程，简化了Boyer-Moore算法的实现。

## 基本思想

1. 坏字符规则：如果在模式串的某个位置不匹配，算法会根据文本串中的这个不匹配字符在模式串中最后一次出现的位置来决定模式串向右移动的距离。如果文本中的字符不在模式串中，则模式串直接移动到文本中的下一个位置。

2. 预处理：Horspool算法在开始匹配之前会预先构建一个“跳跃表”（shift table），这个表记录了每个可能字符在模式串中的最右出现位置。这样，当发生不匹配时，可以直接根据跳跃表快速决定模式串的移动距离。

## 实现步骤

1. 构建跳跃表：对于模式串中的每个字符，记录其在模式串中最右边的出现位置。对于不在模式串中的字符，跳跃表的值通常设置为模式串的长度。

2. 初始化：将模式串置于文本串的起始位置。

3. 匹配：从模式串的最右侧字符开始，与文本串的相应位置字符进行比较，向左依次进行，直到找到不匹配的字符或完成整个模式串的匹配。

4. 处理不匹配：如果遇到不匹配的字符，根据跳跃表中该字符对应的值来决定模式串移动的步长，然后重复匹配过程。

5. 终止条件：如果模式串完全匹配文本串中的某段，或者模式串移动到文本串的末尾而未找到匹配，则算法结束。

## 优点

* 效率：相比朴素的暴力搜索，Horspool算法在很多情况下能够显著减少比较次数，尤其是在文本和模式串中重复字符较多时。
* 简单性：虽然效率略低于完整的Boyer-Moore算法，但由于只使用了坏字符规则，Horspool算法的实现更加简单，易于理解和实现。

## 缺点

* 最坏情况性能：在某些特定情况下，如模式串和文本串都是重复的单一字符时，Horspool算法可能退化到接近线性时间复杂度。
* 不适用所有情况：对于模式串中存在大量重复字符或特定模式的情况，算法可能不如Boyer-Moore算法或KMP算法高效。

## 实现

[Horspool](./Horspool.cpp)
